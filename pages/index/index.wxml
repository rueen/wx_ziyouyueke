<!--index.wxml-->
<navBar />
<layout class="container">
  <!-- 用户信息卡片 -->
  <view class="user-card">
    <view class="user-header">
      <view class="user-avatar">
        <image src="{{userInfo.avatar}}" class="avatar-img"></image>
      </view>
      <view class="user-info">
        <text class="greeting">HELLO GYM GIRL</text>
        <text class="username">{{userInfo.name}}</text>
      </view>
    </view>

    <view class="stats-row">
      <view class="stat-item" bindtap="onMyCoachClick">
        <text class="stat-label">我的教练</text>
        <text class="iconfont icon-arrow-r stat-arrow"></text>
      </view>
      
      <view class="stat-item" bindtap="onPendingCoursesClick">
        <text class="stat-label">待确认课程</text>
        <text class="iconfont icon-arrow-r stat-arrow"></text>
      </view>
    </view>
  </view>
  
  <!-- 近期课程 -->
  <view class="recent-courses">
    <view class="section-header">
      <text class="section-title">近期课程</text>
      <text class="view-more" bindtap="onViewMoreCourses" wx:if="{{recentCourses.length > 0}}">
        <text>查看更多</text>
        <text class="iconfont icon-arrow-r"></text>
      </text>
    </view>
    
    <!-- 课程列表 -->
    <view class="course-list" wx:if="{{recentCourses.length > 0}}">
      <view class="course-item" wx:for="{{recentCourses}}" wx:key="id">
        <view class="course-header">
          <view class="coach-info">
            <view class="coach-avatar">
              <image src="{{item.coachAvatar}}" class="avatar-img"></image>
            </view>
            <text class="coach-name">{{item.coachName}}</text>
          </view>
          <view class="course-status confirmed">已确认</view>
        </view>
        <view class="course-details">
          <view class="detail-row">
            <text class="detail-label">时间</text>
            <text class="detail-value">{{item.time}}</text>
          </view>
          <view class="detail-row">
            <text class="detail-label">地点</text>
            <text class="detail-value">{{item.location}}</text>
          </view>
        </view>
      </view>
    </view>
    
    <!-- 空状态 -->
    <view class="empty-courses" wx:else>
      <text class="empty-text">暂无课程</text>
    </view>
  </view>
  
  <!-- 立即约课按钮 -->
  <view class="book-button-container">
    <button class="book-button" bindtap="onBookCourse">立即约课</button>
  </view>
</layout>
