<!--pages/editProfile/editProfile.wxml-->
<navBar title="个人信息" />
<layout>
  <view class="profile-container">
    <view class="profile-form">
      <!-- 我的头像 -->
      <button class="form-item avatar-button" open-type="chooseAvatar" bindchooseavatar="onChooseAvatar">
        <text class="label">头像</text>
        <view class="value-container">
          <image src="{{userInfo.avatar_url}}" class="avatar"></image>
          <text class="iconfont icon-arrow-r"></text>
        </view>
      </button>

      <!-- 我的昵称 -->
      <view class="form-item">
        <text class="label">昵称</text>
        <view class="value-container">
          <input type="nickname" class="input-value" placeholder="请输入昵称" value="{{userInfo.nickname}}" bindinput="onNicknameInput"/>
        </view>
      </view>

      <!-- 手机号 -->
      <button class="form-item phone-item" open-type="getPhoneNumber" bindgetphonenumber="onGetPhoneNumber">
        <text class="label">手机号</text>
        <view class="value-container">
          <text class="value">{{userInfo.phone || '未绑定'}}</text>
          <text class="iconfont icon-arrow-r"></text>
        </view>
      </button>

      <!-- 性别 -->
      <view class="form-item" bindtap="onChooseGender" wx:if="{{userRole === 'student'}}">
        <text class="label">性别</text>
        <view class="value-container">
          <text class="value">{{genderText}}</text>
          <text class="iconfont icon-arrow-r"></text>
        </view>
      </view>

      <!-- 个人介绍 -->
      <view class="form-item intro-item">
        <text class="label">{{userRole === 'coach' ? '擅长' : '个人介绍'}}</text>
        <view class="value-container">
          <textarea class="intro-textarea" placeholder="请输入个人介绍" value="{{userInfo.intro}}" bindinput="onInput" data-type="intro" maxlength="200"></textarea>
        </view>
      </view>

      <!-- 专业认证 -->
      <view class="form-item intro-item" wx:if="{{userRole === 'coach'}}">
        <text class="label">专业认证</text>
        <view class="value-container">
          <textarea class="intro-textarea" placeholder="请输入专业认证" value="{{userInfo.certification}}" bindinput="onInput" data-type="certification" maxlength="200"></textarea>
        </view>
      </view>

      <!-- 健身格言 -->
      <view class="form-item intro-item" wx:if="{{userRole === 'coach'}}">
        <text class="label">健身格言</text>
        <view class="value-container">
          <textarea class="intro-textarea" placeholder="请输入健身格言" value="{{userInfo.motto}}" bindinput="onInput" data-type="motto" maxlength="200"></textarea>
        </view>
      </view>
    </view>
    <!-- 是否在教练大厅展示 -->
    <view class="wrap">
      <view class="isShow-container">
        <text class="label">是否在教练大厅展示</text>
        <switch checked="{{userInfo.is_show}}" bindchange="isShowSwitchChange"/>
      </view>
      <view class="tips">
        <text class="tips-text" wx:if="{{userInfo.is_show}}">所有学员均可在“教练大厅”查看到你的信息</text>
        <text class="tips-text" wx:else>“教练大厅”不展示你的信息</text>
      </view>
    </view>
    <!-- 宣传海报 -->
    <view class="wrap poster-item" bind:tap="openPoster" wx:if="{{isShowPoster}}">
      <text class="label">宣传海报</text>
      <text class="iconfont icon-arrow-r"></text>
    </view>

    <!-- 保存按钮 -->
    <view class="save-container">
      <button class="save-btn" bindtap="onSave">保存修改</button>
    </view>
  </view>
</layout> 