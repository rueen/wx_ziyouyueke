<!--pages/tools-rm/rm.wxml-->
<navBar title="1RM计算器" />
<layout>
  <view class="rm-container">
    <!-- RM计算器 -->
    <view class="input-section">
      <view class="section-title">RM计算器</view>
      <view class="input-item">
        <text class="label">训练重量</text>
        <view class="input-wrapper">
          <input type="digit" class="input" placeholder="请输入重量" value="{{weight}}" bindinput="onWeightInput" />
          <text class="unit">公斤</text>
        </view>
      </view>

      <view class="input-item">
        <text class="label">完成次数</text>
        <view class="input-wrapper">
          <input type="number" class="input" placeholder="请输入次数" value="{{reps}}" bindinput="onRepsInput" />
          <text class="unit">次</text>
        </view>
      </view>

      <!-- 计算按钮 -->
      <button class="calculate-btn" bindtap="onCalculate">计算 1RM</button>
    </view>

    <!-- 结果展示 -->
    <view class="result-section" wx:if="{{oneRM}}">
      <view class="result-card">
        <view class="rm-value">
          <text class="label-text">您的 1RM 约为：</text>
          <text class="value-text">{{oneRM}}</text>
          <text class="unit-text">公斤</text>
        </view>
        <view class="formula-note">
          <text class="note-text">使用 Brzycki 公式计算</text>
        </view>
      </view>
    </view>

    <!-- 训练重量推荐 -->
    <view class="recommendation-section" wx:if="{{oneRM}}">
      <view class="section-title">训练重量推荐</view>
      <view class="table-wrapper">
        <view class="table-row table-header">
          <text class="table-cell">%1RM</text>
          <text class="table-cell">重量(kg)</text>
          <text class="table-cell">推荐次数</text>
        </view>
        <view class="table-row" wx:for="{{recommendations}}" wx:key="percent">
          <text class="table-cell">{{item.percent}}%</text>
          <text class="table-cell">{{item.weight}}</text>
          <text class="table-cell">{{item.reps}}</text>
        </view>
      </view>
    </view>

    <!-- 1RM测试参考 -->
    <view class="standard-section">
      <view class="standard-title">1RM 测试参考</view>
      <view class="test-content">
        <view class="test-item">
          <text class="test-number">1.</text>
          <text class="test-text">指导客户按照预估 1RM 的 40% ~ 60% 选择一个可以轻松重复完成 5 ~ 10 次的负重进行热身。</text>
        </view>
        <view class="test-item">
          <text class="test-number">2.</text>
          <text class="test-text">休息 1 分钟。</text>
        </view>
        <view class="test-item">
          <text class="test-number">3.</text>
          <text class="test-text">按照下列标准估算一个客户可以重复完成 3 ~ 5 次的热身重量：</text>
        </view>
        <view class="sub-table">
          <view class="sub-row">
            <text class="sub-label">身体区域</text>
            <text class="sub-value">递增绝对值或百分比</text>
          </view>
          <view class="sub-row">
            <text class="sub-label">上肢动作</text>
            <text class="sub-value">10 ~ 20 磅（4.5 ~ 9.0 千克）或 5% ~ 10%</text>
          </view>
          <view class="sub-row">
            <text class="sub-label">下肢动作</text>
            <text class="sub-value">30 ~ 40 磅（13.6 ~ 18.1 千克）或 10% ~ 20%</text>
          </view>
        </view>
        <view class="test-item">
          <text class="test-number">4.</text>
          <text class="test-text">休息 2 分钟。</text>
        </view>
        <view class="test-item">
          <text class="test-number">5.</text>
          <text class="test-text">按照下列标准估算一个客户可以重复完成 2 ~ 3 次的保守且接近最大负荷的重量：</text>
        </view>
        <view class="sub-table">
          <view class="sub-row">
            <text class="sub-label">身体区域</text>
            <text class="sub-value">递增绝对值或百分比</text>
          </view>
          <view class="sub-row">
            <text class="sub-label">上肢动作</text>
            <text class="sub-value">10 ~ 20 磅（4.5 ~ 9.0 千克）或 5% ~ 10%</text>
          </view>
          <view class="sub-row">
            <text class="sub-label">下肢动作</text>
            <text class="sub-value">30 ~ 40 磅（13.6 ~ 18.1 千克）或 10% ~ 20%</text>
          </view>
        </view>
        <view class="test-item">
          <text class="test-number">6.</text>
          <text class="test-text">休息 2 ~ 4 分钟。</text>
        </view>
        <view class="test-item">
          <text class="test-number">7.</text>
          <text class="test-text">按照下列标准递增或减少重量直至客户能以正确的技术动作完成一次重复：</text>
        </view>
        <view class="sub-table">
          <view class="sub-row">
            <text class="sub-label">身体区域</text>
            <text class="sub-value">递增绝对值或百分比</text>
          </view>
          <view class="sub-row">
            <text class="sub-label">上肢动作</text>
            <text class="sub-value">5 ~ 10 磅（2.3 ~ 4.5 千克）或 2.5% ~ 5%</text>
          </view>
          <view class="sub-row">
            <text class="sub-label">下肢动作</text>
            <text class="sub-value">15 ~ 20 磅（6.8 ~ 9.0 千克）或 5% ~ 10%</text>
          </view>
        </view>
        <view class="test-item">
          <text class="test-number">8.</text>
          <text class="test-text">指导客户尝试 1RM。</text>
        </view>
        <view class="test-item">
          <text class="test-number">9.</text>
          <text class="test-text">如果客户成功，休息 2 ~ 4 分钟后回到步骤 7。如果客户失败，休息 2 ~ 4 分钟后按照下列标准减少重量且回到步骤 8：</text>
        </view>
        <view class="sub-table">
          <view class="sub-row">
            <text class="sub-label">身体区域</text>
            <text class="sub-value">递减绝对值或百分比</text>
          </view>
          <view class="sub-row">
            <text class="sub-label">上肢动作</text>
            <text class="sub-value">5 ~ 10 磅（2.3 ~ 4.5 千克）或 2.5% ~ 5%</text>
          </view>
          <view class="sub-row">
            <text class="sub-label">下肢动作</text>
            <text class="sub-value">15 ~ 20 磅（6.8 ~ 9.0 千克）或 5% ~ 10%</text>
          </view>
        </view>
        <view class="test-item">
          <text class="test-number">10.</text>
          <text class="test-text">持续递增或减少重量直至客户能以正确的技术动作完成一次重复。理想情况下，客户的 1RM 应在 3 次内测得。</text>
        </view>
        <view class="test-item">
          <text class="test-number">11.</text>
          <text class="test-text">将最后一次成功举起的最大重量记录为 1RM。</text>
        </view>
      </view>
    </view>

    <!-- %1RM与最大重复次数对照表 -->
    <view class="standard-section">
      <view class="standard-title">%1RM 与最大重复次数对照表</view>
      <view class="table-wrapper">
        <view class="table-row table-header">
          <text class="table-cell">%1RM</text>
          <text class="table-cell">最大重复次数</text>
        </view>
        <view class="table-row" wx:for="{{rmStandards}}" wx:key="percent">
          <text class="table-cell">{{item.percent}}</text>
          <text class="table-cell">{{item.maxReps}}</text>
        </view>
      </view>
      <view class="source-note">
        <text class="note-text">注：此表格为理论参考值，实际训练中个体差异较大，建议根据自身情况调整</text>
      </view>
    </view>
  </view>
</layout>

