<!--pages/addressList/addressList.wxml-->
<navBar title="常用地址" />
<layout class="container">
  <!-- 地址列表 -->
  <view class="address-list" wx:if="{{addresses.length > 0}}">
    <view class="address-item" wx:for="{{addresses}}" wx:key="id">
      <view class="address-content" bindtap="onEditAddress" data-address="{{item}}">
        <view class="address-header">
          <view class="address-name-row">
            <text class="address-name">{{item.name}}</text>
            <view class="default-tag" wx:if="{{item.isDefault}}">
              <text class="default-text">默认</text>
            </view>
          </view>
          <view class="address-actions">
            <button class="action-btn set-default-btn" 
                    wx:if="{{!item.isDefault}}" 
                    bindtap="onSetDefault" 
                    data-id="{{item.id}}"
                    catchtap="true">
              设置默认
            </button>
            <button class="action-btn delete-btn" 
                    bindtap="onDeleteAddress" 
                    data-id="{{item.id}}" 
                    data-name="{{item.name}}"
                    catchtap="true">
              删除
            </button>
          </view>
        </view>
        <view class="address-detail">
          <text class="address-text">{{item.address}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 空状态 -->
  <view class="empty-state" wx:if="{{addresses.length === 0 && !isLoading}}">
    <view class="empty-icon">
      <text class="iconfont icon-location"></text>
    </view>
    <text class="empty-text">暂无常用地址</text>
    <text class="empty-desc">点击下方按钮添加常用地址</text>
  </view>

  <!-- 加载状态 -->
  <view class="loading-state" wx:if="{{isLoading}}">
    <text class="loading-text">加载中...</text>
  </view>

  <!-- 新增地址按钮 -->
  <view class="add-button-container">
    <button class="add-button" bindtap="onAddAddress">
      <text class="iconfont icon-add"></text>
      <text class="add-text">新增地址</text>
    </button>
  </view>
</layout> 